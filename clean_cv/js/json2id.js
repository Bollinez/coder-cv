const cv_obj = {
  summarybanner: {
    name: "Sydney Hillen",
    image: "../pycv/img/cv_img.jpg",
    summary:
      "Despite the focus on credit risk, I always aimed for automation projects and potentials for improvement. " +
      "Also privately I highly enjoy programming, as well as reading about information technology, which is the reason for my " +
      "decision to pursue a part-time degree in Applied Computer Science. " +
      "After years of effort to make IT being part of my work, I finally decided to make an effort being part of IT instead.",
  },
  personalscontainer: {
    "address-string": "Obere Belchenstr 17, 5012 Schoenenwerd",
    mail: "sydney.hillen@outlook.com",
    mobile: "+41 76 565 3714",
    linkedin: "/sydney-hillen/",
  },
  workxp: [
    {
      "workxp-department":
        "Quantitative Analysis and Technology – Credit Suisse AG, Zurich",
      "workxp-title": "Senior Quantitative Analyst",
      "workxp-time": "02/23-present",
      "workxp-description": [
        "development and maintenance of credit risk models using advanced statistical methods, including machine learning models such as gradient boosting or lasso regression in R",
        "application of standards for code versioning and documentation, as well as issue management using git and Odyssey Bitbucket",
        "project plan and workflow management using Jira and Kanban",
        "development of a model prototype using Fsharp and Angular as a proof of concept to move from a waterfall delivery model to a continuous integration and continuous delivery (CI/CD) practice",
        "automation of the economic downturn analysis for internal-rating-based (IRB) modelling using R Markdown, including: ",
      ],
      "workxp-description-sub": [
        "collection, processing and aggregation of macroeconomic data from external sources using R and PL/SQL",
        "application of regulatory standards for the estimation of economic downturns on portfolio-level",
      ],
    },
    {
      "workxp-department":
        "Quantitative Analysis and Technology – Credit Suisse AG, Zurich",
      "workxp-title": "Senior Model Developer",
      "workxp-time": "08/20-02/23",
      "workxp-description": [
        "development and implementation of processes for the monitoring and backtesting of credit risk models using R and Python",
        "automation of report production for senior management and Swiss Financial Market Supervisory Authority (FINMA) using Python",
      ],
      "workxp-description-sub": [],
    },
    {
      "workxp-department":
        "Basel Measurement and Reporting – Credit Suisse AG, Zurich",
      "workxp-title": "Line Management – Regulatory Reporting (IB)",
      "workxp-time": "10/19-08/20",
      "workxp-description": [
        "improvement of data quality for Basel III regulatory reporting purposes, by supporting the implementation and testing of change requests from the business side",
        "reduction of dependencies from multiple web-based BI tools with limited third-party application compatibility and shifting the team's data sourcing towards SQL- and Python-based queries",
        "review of Compliance- and MIS reports for credit risk- and balance sheet figures for the Swiss Investment Banking business",
      ],
      "workxp-description-sub": [],
    },
    {
      "workxp-department":
        "Basel Measurement and Reporting – Credit Suisse AG, Zurich",
      "workxp-title": "Regulatory Reporting (PB)",
      "workxp-time": "01/17-10/19",
      "workxp-description": [
        "preparation and presentation of main drivers for credit risk movements to the CFO of Credit Suisse (Switzerland) Ltd.",
        "performance of test cases and validations for the decommissioning and replacement of applications used for regular business processes",
        "participation in the working group targeting more frequent reporting cycles as the SME for data flows within PB-related regulatory reporting processes",
      ],
      "workxp-description-sub": [],
    },
  ],
  "student-workxp": [
    {
      "workxp-title": "Asset Liability Management",
      "workxp-location": "Sparkasse KölnBonn, Cologne",
      "workxp-time": "01/15-03/15",
      "workxp-description":
        "Within my internship at Sparkasse KölnBonn I provided assistance to financial engineers, primarily responsible for the management of interest rate risks and asset-/ liability mismatches, but also hat the chance to collaborate with BlackRock representatives for the preparation of the bank's role as a custodian for umbrella funds.",
    },
    {
      "workxp-title": "Controlling",
      "workxp-location": "Bosch Rexroth AG, Witten",
      "workxp-time": "02/14-08/14",
      "workxp-description":
        "My primary responsibilities included the development and improvement of budget planning processes and standardized management control systems.",
    },
    {
      "workxp-title": "Consulting",
      "workxp-location": "amx consulting, Hagen",
      "workxp-time": "01/11-02/11",
      "workxp-description":
        "I conducted research and analyses on candidate profiles for management positions in the fields of search engine optimisation and online media.",
    },
  ],
  education: [
    {
      institution: "FernUniversität Hagen",
      area: "Applied Computer Science",
      studyType: "Master of Science",
      "education-time": "2022-2025 (approx.)",
      details: {},
      topics: [
        "Architecture and Implementation of Databases",
        "Parallel Programming",
        "Data Engineering for Data Science",
      ],
    },
    {
      institution: "International School of Management Dortmund",
      area: "Finance",
      studyType: "Master of Science",
      "education-time": "09/14-12/16",
      details: {
        grade: "Excellent with 1.39",
        semesterabroad: {
          institution: "Oxford Brookes University, Oxford",
          grade: "Excellent with 1.0",
          "education-time": "09/15-12/15",
        },
      },
      topics: ["Portfolio Modelling (C# based)", "Asset Management"],
    },
    {
      institution: "International School of Management Dortmund",
      area: "International Management",
      studyType: "Bachelor of Arts",
      "education-time": "09/10-08/14",
      details: {
        grade: "Good with 2.1",
        semesterabroad: {
          institution: "European Business School, Dublin",
          grade: "Excellent with 1.0",
          "education-time": "01/12-04/12",
        },
      },
      topics: ["Project Management", "Finance"],
    },
  ],
  certificates: [
    {
      name: "Financial Risk Manager",
      date: "2019",
      issuer: "Global Association of Risk Professionals",
      image: "../pycv/img/frm_badge.png",
    },
    {
      name: "Microsoft Certified: Azure Fundamentals",
      date: "2023",
      issuer: "Microsoft",
      image: "../pycv/img/azure_badge.png",
    },
  ],
  skills: {
    verygood: ["PL/SQL", "R", "Markdown", "git", "Python", "VBA", "JSON"],
    good: ["FSharp", "SAS", "Anaconda", "HTML", "CSS", "JavaScript"],
    fundamentals: ["Java", "Azure", "C#", "Docker", "Angular", "Tableau"],
  },
  languages: {
    native: "German",
    fluent: "English",
    good: "Spanish",
  },
  interests: [
    "expanding my coding skills",
    "physical cosmology",
    "astronomy",
    "my dog",
    "hiking",
    "basketball",
    "shooting range",
  ],
  references: [
    {
      name: "Dorothee Bill",
      company: "Credit Suisse",
      relationship: "Former manager within QAT",
      title: "Head of IRB Swiss Bank",
      department: "Quantitative Analysis and Technology",
      contact: "0123456789",
    },
    {
      name: "Dr. Massimo Cutaia",
      company: "Credit Suisse",
      relationship: "Hiring manager within QAT",
      title: "Global Head of Core Credit Modelling",
      department: "Quantitative Analysis and Technology",
      contact: "0123456789",
    },
    {
      name: "André Rebmann",
      company: "Credit Suisse",
      relationship: "Former manager within BMR",
      title: "Head of Swiss ",
      department: "Basel Measurement and Reporting",
      contact: "0123456789",
    },
  ],
  projects_clubs: [ { area: "CS Finance Innovation Circle  (2018 - 2020)",
  topics: "Representative of Swiss department in global working group " +
    "bringing rather legacy-focussing areas closer to BI tools and process automation techniques."},
    { area: "CS Valuation in Resolution Data Sourcing (2019)",
    topics: "Proof of Concept for the implementation of big data tools (Hadoop) to prepare for " +
    "for more requent reporting cycles and daily batch runs. "},
    { area: "CS BMR Innovation Circle (2018)",
    topics: "Co-Project lead for Python- & R-based process automation."}]
};

var listItem = "";
var listHTML = "";
var sideArrays = cv_obj.interests.concat(
  cv_obj.projects_clubs,
  cv_obj.education[0].topics,
  cv_obj.education[1].topics,
  cv_obj.education[2].topics
);

var skillsArray = 
cv_obj.skills.fundamentals.concat(
cv_obj.skills.good,
cv_obj.skills.verygood);

var keyWordCV = [
  "FSharp",
  "CI/CD",
  "Python",
  " R",
  "git",
  "Markdown",
  "Angular",
  "Bitbucket",
  "Odyssey",
  "Kanban",
  "Jira",
  "PL/SQL",
  "SQL",
];

function containsAny(str, substrings) {
  var matchesFound = [];
  for (var i = 0; i != substrings.length; i++) {
    var substring = substrings[i];
    if (str.indexOf(substring) != -1) {
      matchesFound.push(substring);
    }
  }
  if (matchesFound.length > 0) return matchesFound;
  else return null;
}

function iterateList(object, arrayname) {
  let objarr = object;
  listHTML = "";
  listItem = "";
  objarr.forEach(createHTMLList);
  listHTML += listItem;
}

function createHTMLList(value) {
  var highlightWords = containsAny(value, keyWordCV);
  var listItemSingle = "<li>" + value + "</li>";
  if (highlightWords != null && (!sideArrays.includes(value) && !skillsArray.includes(value))) {
    highlightWords.forEach(function(vle) {
      var pattern = new RegExp(vle, 'g');
      listItemSingle = listItemSingle.replace(pattern, "<highl>".concat(vle,"</highl>"));
    } );
    listItem += listItemSingle;
  } else {
    listItem += listItemSingle;
  }
}

var buildID = (input, output = {}, key = []) => {
  if (Array.isArray(input) && typeof input[0] != "string")
    input.forEach((v, i) => buildID(v, output, [...key, `${i}`]));
  else if (
    Array.isArray(input) &&
    typeof input[0] == "string" &&
    input[0] != undefined
  ) {
    iterateList(input);
    output[key.join("-")] = listHTML;
  } else if (typeof input === "object")
    Object.entries(input).forEach(([k, v]) => buildID(v, output, [...key, k]));
  else output[key.join("-")] = input;
  return output;
};

var result = buildID(cv_obj);

Object.entries(result).forEach(([key, value]) => {
  var idkey = key.toString();
  var hash = "#";
  var idKeyHash = hash.concat(idkey);
  $(idKeyHash).html(value);
});
